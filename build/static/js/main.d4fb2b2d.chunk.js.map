{"version":3,"sources":["config/history.ts","config/axios.ts","components/Tomatoes/CountDown.tsx","redux/actions/todos.ts","redux/actionTypes.ts","components/Todos/TodoInput.tsx","components/Todos/TodoItem.tsx","components/Todos/Todos.tsx","components/Tomatoes/TomatoAction.tsx","redux/actions/tomatoes.ts","components/Tomatoes/TomatoList.tsx","components/Tomatoes/Tomatoes.tsx","components/Statistics/Polygon.tsx","components/Statistics/TodoHistory/TodoHistoryTodoItem.tsx","components/Statistics/TodoHistory/TodoHistory.tsx","components/Statistics/TomatoHistory/TomatoHistoryTomatoItem.tsx","components/Statistics/TomatoHistory/TomatoHistory.tsx","components/Statistics/Statistics.tsx","components/Home/Home.tsx","components/Login/Login.tsx","components/SignUp/SignUp.tsx","App.tsx","serviceWorker.ts","redux/reducers/reducers.ts","redux/reducers/todos.ts","redux/reducers/tomatoes.ts","redux/store.ts","index.tsx"],"names":["history","createBrowserHistory","instance","axios","create","baseURL","headers","interceptors","request","use","config","xToken","localStorage","getItem","error","console","Promise","reject","response","setItem","status","push","timerId","updateTodo","payload","type","TodoInput","props","onKeyUp","e","keyCode","state","description","addTodo","a","post","data","resource","Error","this","suffix","onClick","className","id","placeholder","value","onChange","setState","target","React","mapDispatchToProps","connect","ownProps","TodoItem","params","completed","completed_at","Date","put","editTodo","handleKeyUp","editText","editing","Editing","theme","deleted","Text","onDoubleClick","todoItemClass","classNames","checked","Todos","unCompletedTodos","map","item","key","length","CompletedTodos","unDeletedTodos","filter","parse","format","todos","CountDown","countDown","timer","setInterval","time","onFinish","clearInterval","percent","duration","style","width","min","Math","floor","second","confirm","Modal","TomatoAction","updateTomato","unfinishedTomato","ended_at","forceUpdate","abortTomato","aborted","showConfirm","title","onCancel","onOk","okText","cancelText","startTomato","html","undefined","startAt","started_at","timeNow","getTime","TomatoItem","TomatoList","list","dateSort","tomato","finishedTomato","t","Object","keys","sort","b","splice","Tomatoes","addTomato","unFinishedTomato","JSON","stringify","tomatoes","finishedTomatoes","_","groupBy","Polygon","fill","stroke","strokeWidth","points","date","firstDay","finishedY","range","finishedCount","pointsArr","x","y","finished","join","TodoHistoryTodoItem","action","newFormat","itemType","updated_at","TabPane","Tabs","weekDay","TodoHistory","finishedTodoList","finishedDates","getDay","dailyFinishedTodos","todo","deletedTodoList","deletedDates","dailydeletedTodos","defaultActiveKey","tab","finishedTodos","deletedTodos","TomatoHistoryTomatoItem","time1","time2","TomatoHistory","finishedTomatoList","countNum","dailyFinishedTomatoes","forEach","num","hours","minute","text","abortedTomatoList","abortedDates","dailyAbortedTomatoes","abortedTomatoes","Statistics","History","dailyTomatoes","dailyTodos","menu","Item","Home","getTodos","get","resources","assign","initTodo","getTomatoes","initTomato","getMe","user","account","viewBox","version","xmlns","p-id","height","d","overlay","marginLeft","Login","newState","submit","password","message","destroy","warning","errors","prefix","color","Password","to","errortext","SignUp","passwordConfirmation","password_confirmation","App","exact","path","component","Component","Boolean","window","location","hostname","match","combineReducers","store","createStore","reducers","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"ioBAIeA,EAFCC,c,oECIVC,E,OAAWC,EAAMC,OAAO,CAC1BC,QAAS,uCACTC,QAAS,CACL,WANM,2BAON,eANU,8BAWlBJ,EAASK,aAAaC,QAAQC,KAAI,SAAUC,GACxC,IAAMC,EAASC,aAAaC,QAAQ,WAIpC,OAHGF,IACCD,EAAOJ,QAAP,+BAA4CK,IAEzCD,KACR,SAAUI,GAET,OADAC,QAAQD,MAAMA,GACPE,QAAQC,OAAOH,MAI1BZ,EAASK,aAAaW,SAAST,KAAI,SAAUS,GAKzC,OAHGA,EAASZ,QAAQ,YAChBM,aAAaO,QAAQ,UAAUD,EAASZ,QAAQ,YAE7CY,KACR,SAAUJ,GAAQ,IAAD,EAKhB,OAH4B,OAAzB,UAAAA,EAAMI,gBAAN,eAAgBE,SACjBpB,EAAQqB,KAAK,UAERL,QAAQC,OAAOH,MAGXZ,IC5BXoB,ED4BWpB,I,iCE3BFqB,EAAa,SAACC,GACzB,MAAO,CACLC,KCbuB,cDcvBD,YEHEE,E,kDACJ,WAAYC,GAAW,IAAD,8BACpB,cAAMA,IAKRC,QAAU,SAACC,GACQ,KAAdA,EAAEC,SAA6C,KAA3B,EAAKC,MAAMC,aAChC,EAAKC,WARa,EAYtBA,QAZsB,sBAYZ,4BAAAC,EAAA,+EAEiB/B,EAAMgC,KAAK,QAAQ,CACxCH,YAAY,EAAKD,MAAMC,cAHnB,OAEAd,EAFA,OAKN,EAAKS,MAAMM,QAAQf,EAASkB,KAAKC,UAL3B,sDAOA,IAAIC,MAAJ,MAPA,yDAVR,EAAKP,MAAM,CACTC,YAAY,IAHM,E,qDAuBb,IAAD,OACCA,EAAeO,KAAKR,MAApBC,YACDQ,EAASR,EAAY,gBAAC,IAAD,CAAMP,KAAK,QAAQgB,QAASF,KAAKN,UAAW,6BACvE,OACE,uBAAKS,UAAU,YAAYC,GAAG,aAC5B,gBAAC,IAAD,CACEC,YAAY,iCACZJ,OAAQA,EACRK,MAAOb,EACPc,SAAU,SAAAjB,GAAC,OAAE,EAAKkB,SAAS,CAACf,YAAYH,EAAEmB,OAAOH,SACjDjB,QAASW,KAAKX,e,GAlCAqB,aA6ClBC,EAAqB,CACzBjB,QF1DqB,SAACT,GACtB,MAAO,CACLC,KCJoB,WDKpBD,aE0DW2B,eARS,SAACpB,EAAUqB,GAAX,sBACnBA,KAOkCF,EAAxBC,CAA4CzB,G,kCC1CrD2B,E,kDACJ,WAAY1B,GAAW,IAAD,8BACpB,cAAMA,IAMRJ,WAPsB,uCAOT,WAAO+B,GAAP,eAAApB,EAAA,6DACRoB,EAAOC,YACRD,EAAOE,aAAe,IAAIC,MAFjB,kBAKctD,EAAMuD,IAAN,gBAAmB,EAAK/B,MAAMgB,IAAKW,GALjD,OAKHpC,EALG,OAMT,EAAKS,MAAMJ,WAAWL,EAASkB,KAAKC,UAN3B,sDAQH,IAAIC,MAAJ,MARG,yDAPS,wDAmBtBqB,SAAW,WACT,EAAKhC,MAAMgC,SAAS,EAAKhC,MAAMgB,KApBX,EAuBtBiB,YAAc,SAAC/B,GACE,KAAZA,EAAEC,SAAoC,KAAtB,EAAKC,MAAM8B,UAC5B,EAAKtC,WAAW,CAACS,YAAY,EAAKD,MAAM8B,YAvB1C,EAAK9B,MAAM,CACT8B,SAAS,EAAKlC,MAAMK,aAHF,E,qDA6Bb,IAAD,SACkCO,KAAKZ,MAAtC4B,EADD,EACCA,UAAUvB,EADX,EACWA,YAAY8B,EADvB,EACuBA,QACvBC,EACJ,uBAAKrB,UAAU,WACb,gBAAC,IAAD,CACEjB,KAAK,OACLoB,MAAON,KAAKR,MAAM8B,SAClBf,SAAU,SAAAjB,GAAC,OAAE,EAAKkB,SAAS,CAACc,SAAShC,EAAEmB,OAAOH,SAC9CjB,QAASW,KAAKqB,cAEhB,uBAAKlB,UAAU,eACb,gBAAC,IAAD,CAAMjB,KAAK,QAAQgB,QAAS,kBAAI,EAAKlB,WAAW,CAACS,YAAY,EAAKD,MAAM8B,cACxE,gBAAC,IAAD,CAAMpC,KAAK,SAASuC,MAAM,SAASvB,QAAS,kBAAI,EAAKlB,WAAW,CAAC0C,SAAQ,SAIzEC,EAAO,wBAAMxB,UAAU,OAAOyB,cAAe5B,KAAKoB,UAAW3B,GAC7DoC,EAAgBC,IAAW,CAC/BhB,UAAS,EACTS,UACAP,cAEF,OACE,uBAAKb,UAAW0B,EAAezB,GAAG,YAChC,gBAAC,IAAD,CACE2B,UAASf,EACTT,SAAU,SAAAjB,GAAC,OAAE,EAAKN,WAAW,CAACgC,UAAU1B,EAAEmB,OAAOsB,aAGjDR,EAAQC,EAAQG,O,GA3DHjB,aAsEjBC,EAAqB,CACzBS,SHxEsB,SAACnC,GACvB,MAAO,CACLC,KCpBqB,YDqBrBD,YGsEFD,cAGa4B,eATS,SAACpB,EAAUqB,GAAX,sBACnBA,KAQkCF,EAAxBC,CAA4CE,G,iBCxFrDkB,E,uKAeF,OACE,uBAAK7B,UAAU,QAAQC,GAAG,SACxB,gBAAC,EAAD,MACA,uBAAKD,UAAU,aACZH,KAAKiC,iBAAiBC,KAAI,SAACC,GAAD,OAAc,gBAAC,EAAD,eAAUC,IAAKD,EAAK/B,IAAQ+B,OACpEnC,KAAKiC,iBAAiBI,OAAO,GAAGrC,KAAKsC,eAAeD,OAAO,EAAE,gBAAC,IAAD,CAAO5C,YAAY,6BAAS,uCACzFO,KAAKsC,eAAeJ,KAAI,SAACC,GAAD,OAAc,gBAAC,EAAD,eAAUC,IAAKD,EAAK/B,IAAQ+B,W,qCAlBzE,OAAOnC,KAAKuC,eAAeC,QAAO,SAACL,GAAD,OAAcA,EAAKnB,WAAYE,KAAKuB,MAAMN,EAAKlB,cAAcC,KAAKuB,MAAMC,YAAO,IAAIxB,KAAO,oB,uCAI5H,OAAOlB,KAAKuC,eAAeC,QAAO,SAACL,GAAD,OAAeA,EAAKnB,e,qCAItD,OAAOhB,KAAKZ,MAAMuD,MAAMH,QAAO,SAACL,GAAD,OAAeA,EAAKT,e,GAXnChB,aAkCLE,eANS,SAACpB,EAAUqB,GAAX,oBACtB8B,MAAMnD,EAAMmD,OACT9B,KAIUD,CAAyBoB,G,iBL3BnBY,G,yDACnB,WAAYxD,GAAuB,IAAD,8BAChC,cAAMA,IACDI,MAAM,CACTqD,UAAU,EAAKzD,MAAM0D,OAHS,E,gEAad,IAAD,OACjB/D,EAAUgE,aAAY,WACpB,IAAMC,EAAO,EAAKxD,MAAMqD,UACxB,EAAKrC,SAAS,CACZqC,UAAUG,EAAK,MAEdA,EAAK,MACN,EAAK5D,MAAM6D,WACXC,cAAcnE,MAEhB,O,6CAIFmE,cAAcnE,K,+BAId,IAAMoE,EAAU,EAAInD,KAAKR,MAAMqD,UAAU7C,KAAKZ,MAAMgE,SACpD,OACE,uBAAKjD,UAAU,YAAYC,GAAG,aAC5B,wBAAMD,UAAU,YAAYH,KAAK6C,WACjC,uBAAK1C,UAAU,WAAWkD,MAAO,CAACC,MAAM,GAAD,OAAY,IAARH,EAAJ,W,gCA3B3C,IAAMI,EAAMC,KAAKC,MAAMzD,KAAKR,MAAMqD,UAAU,KACtCa,EAASF,KAAKC,MAAMzD,KAAKR,MAAMqD,UAAU,IAAK,IACpD,MAAM,GAAN,OAAUU,EAAI,GAAI,IAAIA,EAAKA,EAA3B,YAAkCG,EAAO,GAAI,IAAIA,EAAQA,O,GAXtBhD,cMCjCiD,G,OAAUC,IAAMD,SAEDE,E,kDAEnB,WAAYzE,GAA0B,IAAD,8BACnC,cAAMA,IAMR0E,aAPqC,uCAOtB,WAAM/C,GAAN,eAAApB,EAAA,+EAEY/B,EAAMuD,IAAN,mBAAsB,EAAK/B,MAAM2E,iBAAiB3D,IAAKW,GAFnE,OAELpC,EAFK,OAGX,EAAKS,MAAM0E,aAAanF,EAASkB,KAAKC,UAH3B,sDAKL,IAAIC,MAAJ,MALK,yDAPsB,wDAgBrCV,QAAU,SAACC,GACM,KAAZA,EAAEC,SAAuC,KAAzB,EAAKC,MAAMC,cAC5B,EAAKqE,aAAa,CAChBrE,YAAY,EAAKD,MAAMC,YACvBuE,SAAS,IAAI9C,OAEf,EAAKV,SAAS,CAACf,YAAY,OAtBM,EA0BrCwD,SAAW,WACT,EAAKgB,eA3B8B,EA8BrCC,YAAc,WACZ,EAAKJ,aAAa,CAACK,SAAQ,KA/BQ,EAkCrCC,YAAc,WACZT,EAAQ,CACNU,MAAM,mJACNC,SAFM,aAGNC,KAAK,WAAK,EAAKL,eACfM,OAAO,eACPC,WAAW,kBAtCb,EAAKjF,MAAQ,CACXC,YAAY,IAHqB,E,qDA4C5B,IAAD,SACiCO,KAAKZ,MAArCsF,EADD,EACCA,YAAYX,EADb,EACaA,iBACfY,EAAO,4BACX,QAAsBC,IAAnBb,EACDY,EAAO,gBAAC,IAAD,CAAQxE,UAAU,oBAAoBD,QAAS,WAAKwE,MAApD,gCACJ,CACH,IAAMG,EAAU3D,KAAKuB,MAAMsB,EAAiBe,YACtC1B,EAAWW,EAAiBX,SAC5B2B,GAAU,IAAI7D,MAAO8D,UAC3B,GAAGD,EAAQF,EAAQzB,EACjBuB,EAAQ,uBAAKxE,UAAU,gBACb,gBAAC,IAAD,CACEG,MAAON,KAAKR,MAAMC,YAClBc,SAAU,SAAAjB,GAAC,OAAE,EAAKkB,SAAS,CAACf,YAAYH,EAAEmB,OAAOH,SACjDjB,QAAS,SAAAC,GAAC,OAAE,EAAKD,QAAQC,IACzBe,YAAY,uEAEd,gBAAC,IAAD,CAAMnB,KAAK,eAAeiB,UAAU,QAAQD,QAASF,KAAKoE,oBAEhE,GAAGW,EAAQF,EAAQzB,EAAS,CAChC,IAAMN,EAAQM,EAAS2B,EAAQF,EAC/BF,EAAO,uBAAKxE,UAAU,oBACZ,gBAAC,EAAD,CAAW2C,MAAOA,EAAOG,SAAUjD,KAAKiD,SAAUG,SAAUA,IAC5D,gBAAC,IAAD,CAAMlE,KAAK,eAAeiB,UAAU,QAAQD,QAASF,KAAKoE,gBAKxE,OACE,uBAAKjE,UAAU,eAAeC,GAAG,gBAC9BuE,O,GA5EiCjE,aCJ7BoD,G,OAAe,SAAC7E,GAC3B,MAAO,CACLC,KLTyB,gBKUzBD,a,OCTJ,SAASgG,EAAW7F,GAClB,OACE,uBAAKe,UAAU,cACb,wBAAMA,UAAU,aAAauC,YAAO,IAAIxB,KAAK9B,EAAM0F,YAAY,SAA/D,MAA4EpC,YAAO,IAAIxB,KAAK9B,EAAM4E,UAAU,UAC5G,wBAAM7D,UAAU,eAAef,EAAMK,c,IAKtByF,E,kDACnB,WAAY9F,GAAwB,IAAD,8BACjC,cAAMA,IACDI,MAAM,GAFsB,E,qDAY1B,IAAD,OACA2F,EAAOnF,KAAKoF,SAASlD,KAAI,SAAAC,GAChB,IAAMkD,EAAS,EAAKjG,MAAMkG,eAAenD,GACzC,OACE,uBAAKC,IAAKD,EAAMhC,UAAU,eACxB,uBAAKA,UAAU,SACZ,wBAAMA,UAAU,YAAYuC,YAAO,IAAIxB,KAAKiB,GAAM,mBAClD,wBAAMhC,UAAU,iBAAhB,qBAAoCkF,EAAOhD,OAA3C,uBAGDgD,EAAOnD,KAAI,SAACqD,GAAD,OAAS,gBAACN,EAAD,eAAY7C,IAAKmD,EAAEnF,IAAQmF,WAKpE,OACE,uBAAKpF,UAAU,aAAaC,GAAG,cAC5B+E,K,+BApBL,OADcK,OAAOC,KAAKzF,KAAKZ,MAAMkG,gBACxBI,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAMkD,GAAGzE,KAAKuB,MAAM9C,MAAIiG,OAAO,EAAE,O,GAV3BlF,a,iBCClCmF,E,4MAEJnB,Y,sBAAc,4BAAA/E,EAAA,+EAEa/B,EAAMgC,KAAK,WAAW,CAACwD,SAAS,OAF7C,OAEJzE,EAFI,OAGV,EAAKS,MAAM0G,UAAUnH,EAASkB,KAAKC,UAHzB,sDAKJ,IAAIC,MAAJ,MALI,yD,uDAqBZ,OACE,uBAAKI,UAAU,WAAWC,GAAG,YAC3B,gBAAC,EAAD,CACEsE,YAAa1E,KAAK0E,YAClBX,iBAAkB/D,KAAK+F,iBACvBjC,aAAc9D,KAAKZ,MAAM0E,eAEY,OAAtCkC,KAAKC,UAAUjG,KAAKsF,gBAAuB,gBAAC,IAAD,CAAO7F,YAAY,6BAAS,KACxE,gBAAC,EAAD,CAAY6F,eAAgBtF,KAAKsF,oB,uCAnBrC,OAAOtF,KAAKZ,MAAM8G,SAAS1D,QAAO,SAACL,GAAD,OAAeA,EAAK1C,cAAc0C,EAAK6B,WAAW7B,EAAKgC,WAAS,K,qCAIlG,IAAMgC,EAAmBnG,KAAKZ,MAAM8G,SAAS1D,QAAO,SAACL,GAAD,OAAcA,EAAK1C,aAAa0C,EAAK6B,WAAW7B,EAAKgC,WACzG,OAAOiC,IAAEC,QAAQF,GAAiB,SAACd,GACjC,OAAO3C,YAAO,IAAIxB,KAAKmE,EAAOP,YAAY,qB,GAlBzBpE,aA0CjBC,EAAqB,CACzBmF,UF3DuB,SAAC7G,GACxB,MAAO,CACLC,KLCsB,aKAtBD,YEyDF6E,gBAGalD,eAVS,SAACpB,EAAUqB,GAAX,oBACtBqF,SAAS1G,EAAM0G,UACZrF,KAQkCF,EAAxBC,CAA4CiF,G,kBCvDrDS,I,8KAwBF,OACE,uBAAKnG,UAAU,UAAUC,GAAG,WAC1B,2BACE,2BACEmG,KAAK,qBACLC,OAAO,qBACPC,YAAY,IACZC,OAAQ1G,KAAK0G,a,6BA5BV,IAAD,OACJC,EAAOnB,OAAOC,KAAKzF,KAAKZ,MAAMS,MAAM6F,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAM9C,GAAGuB,KAAKuB,MAAMkD,MACzEiB,EAAWD,EAAK,GACtB,GAAGC,EAAS,CACV,IAEIC,EAFEC,GAAQ,IAAI5F,MAAO8D,UAAU9D,KAAKuB,MAAMmE,GAC1CG,EAAgB,EAEdC,EAAYL,EAAKzE,KAAI,SAAAC,GACzB,IAAM8E,GAAK/F,KAAKuB,MAAMN,GAAMjB,KAAKuB,MAAMmE,IAAWE,EAAM,IAElDI,EAAiD,KAA5C,GADXH,GAAiB,EAAK3H,MAAMS,KAAKsC,GAAME,QACZ,EAAKjD,MAAM+H,SAAS9E,QAE/C,OADAwE,EAAYK,EACN,GAAN,OAAUD,EAAV,YAAeC,MAEjB,MAAO,CAAC,SAAD,oBAAYF,GAAZ,eAA6BH,GAAY,YAAWO,KAAK,KAEhE,MAAO,oB,GAnBS1G,cA0CPE,gBAJS,SAACpB,EAAUqB,GAAX,sBACnBA,KAGUD,CAAyB0F,I,UClClCe,I,0NAEJrI,W,uCAAa,WAAM+B,GAAN,eAAApB,EAAA,+EAEc/B,EAAMuD,IAAN,gBAAmB,EAAK/B,MAAMgB,IAAKW,GAFjD,OAEHpC,EAFG,OAGT,EAAKS,MAAMJ,WAAWL,EAASkB,KAAKC,UAH3B,sDAKH,IAAIC,MAAJ,MALG,yD,6GASJ,IACHuH,EADE,OACKC,EAAU,GAAGvE,EAAK,GAoB7B,MAnB2B,aAAxBhD,KAAKZ,MAAMoI,UACZD,EAAY,QACZvE,EAAOhD,KAAKZ,MAAM6B,aAClBqG,EACE,uBAAKnH,UAAU,UACb,gBAAC,IAAD,CAAMjB,KAAK,WAAWgB,QAAS,kBAAI,EAAKlB,WAAW,CAACgC,WAAU,OAC9D,gBAAC,IAAD,CAAM9B,KAAK,SAASuC,MAAM,SAASvB,QAAS,kBAAI,EAAKlB,WAAW,CAAC0C,SAAQ,SAG9C,YAAxB1B,KAAKZ,MAAMoI,WAClBD,EAAY,oBACZvE,EAAOhD,KAAKZ,MAAMqI,WAClBH,EACE,uBAAKnH,UAAU,UACb,gBAAC,IAAD,CAAMjB,KAAK,WAAWgB,QAAS,kBAAI,EAAKlB,WAAW,CAAC0C,SAAQ,SAMhE,uBAAKvB,UAAU,uBACb,uBAAKA,UAAU,QACb,4BAAOuC,YAAO,IAAIxB,KAAK8B,GAAMuE,IAC7B,4BAAOvH,KAAKZ,MAAMK,cAEnB6H,O,GAtCyB5G,cAgD5BC,GAAqB,CACzB3B,cAGa4B,gBATS,SAACpB,EAAUqB,GAAX,oBACtB8B,MAAMnD,EAAMmD,OACT9B,KAOkCF,GAAxBC,CAA4CyG,IC1DrDK,GAAUC,KAAKD,QAEfE,GAAU,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAE/CC,G,uKA8BK,IAAD,OACAC,EAAmB9H,KAAK+H,cAAc7F,KAAI,SAAAC,GAE9C,OACE,uBAAKC,IAAKD,EAAMhC,UAAU,cACxB,uBAAKA,UAAU,WACb,uBAAKA,UAAU,QACb,4BAAOuC,YAAO,IAAIxB,KAAKiB,GAAM,qBAC7B,4BAAOyF,GAAQ,IAAI1G,KAAKiB,GAAM6F,YAEhC,uBAAK7H,UAAU,iBAAf,qBAAmC,EAAK8H,mBAAmB9F,GAAME,OAAjE,uBAEF,uBAAKlC,UAAU,YAEb,EAAK8H,mBAAmB9F,GAAMD,KAAI,SAAAgG,GAAI,OACpC,gBAAC,GAAD,eAAqB9F,IAAK8F,EAAK9H,IAAQ8H,EAAvC,CAA6CV,SAAS,sBAM1DW,EAAkBnI,KAAKoI,aAAalG,KAAI,SAAAC,GAC5C,OACI,uBAAKhC,UAAU,YAEb,EAAKkI,kBAAkBlG,GAAMD,KAAI,SAAAgG,GAAI,OACnC,gBAAC,GAAD,eAAqB9F,IAAK8F,EAAK9H,IAAQ8H,EAAvC,CAA6CV,SAAS,oBAMhE,OACE,gBAAC,KAAD,CAAMc,iBAAiB,KACrB,gBAACZ,GAAD,CAASa,IAAI,uCAASnG,IAAI,KACxB,uBAAKjC,UAAU,eACZ2H,EAAiBzF,OAAO,EAAEyF,EAAiB,gBAAC,IAAD,CAAOrI,YAAY,+BAGnE,gBAACiI,GAAD,CAASa,IAAI,uCAASnG,IAAI,KACxB,uBAAKjC,UAAU,eACZgI,EAAgB9F,OAAO,EAAE8F,EAAgB,gBAAC,IAAD,CAAO1I,YAAY,kC,oCApErE,OAAOO,KAAKZ,MAAMuD,MAAMH,QAAO,SAAAL,GAAI,OAAEA,EAAKnB,YAAYmB,EAAKT,a,mCAI3D,OAAO1B,KAAKZ,MAAMuD,MAAMH,QAAO,SAAAL,GAAI,OAAEA,EAAKT,a,yCAI1C,OAAO0E,IAAEC,QAAQrG,KAAKwI,eAAc,SAACN,GACnC,OAAOxF,YAAO,IAAIxB,KAAKgH,EAAKjH,cAAc,mB,wCAK5C,OAAOmF,IAAEC,QAAQrG,KAAKyI,cAAa,SAACP,GAClC,OAAOxF,YAAO,IAAIxB,KAAKgH,EAAKT,YAAY,mB,oCAK1C,OAAOjC,OAAOC,KAAKzF,KAAKiI,oBAAoBvC,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAMkD,GAAGzE,KAAKuB,MAAM9C,Q,mCAIjF,OAAO6F,OAAOC,KAAKzF,KAAKqI,mBAAmB3C,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAMkD,GAAGzE,KAAKuB,MAAM9C,U,GA3B1De,aAmFXE,gBALS,SAACpB,EAAUqB,GAAX,oBACtB8B,MAAMnD,EAAMmD,OACT9B,KAGUD,CAAyBiH,IChFlCa,I,0NAEJ5E,a,uCAAe,WAAM/C,GAAN,eAAApB,EAAA,+EAEY/B,EAAMuD,IAAN,mBAAsB,EAAK/B,MAAMgB,IAAKW,GAFlD,OAELpC,EAFK,OAGX,EAAKS,MAAM0E,aAAanF,EAASkB,KAAKC,UAH3B,sDAKL,IAAIC,MAAJ,MALK,yD,6GASN,IACHuH,EADE,OACKC,EAAU,GAAGoB,EAAM,GAAGC,EAAM,GAqBvC,MApB2B,aAAxB5I,KAAKZ,MAAMoI,UACZD,EAAY,QACZoB,EAAQ3I,KAAKZ,MAAM0F,WACnB8D,EAAQ5I,KAAKZ,MAAM4E,SACnBsD,EACE,uBAAKnH,UAAU,UAEb,gBAAC,IAAD,CAAMjB,KAAK,SAASuC,MAAM,SAASvB,QAAS,kBAAI,EAAK4D,aAAa,CAACK,SAAQ,SAGhD,YAAxBnE,KAAKZ,MAAMoI,WAClBD,EAAY,oBACZoB,EAAQ3I,KAAKZ,MAAM0F,WACnB8D,EAAQ5I,KAAKZ,MAAMqI,WACnBH,EACE,uBAAKnH,UAAU,YAMjB,uBAAKA,UAAU,2BACb,uBAAKA,UAAU,QACb,sCAAUuC,YAAO,IAAIxB,KAAKyH,GAAOpB,GAAjC,YAA+C7E,YAAO,IAAIxB,KAAK0H,GAxBd,WAyBjD,4BAAO5I,KAAKZ,MAAMK,YAAYO,KAAKZ,MAAMK,YAAY,+CAEtD6H,O,GAvC6B5G,cAiDhCC,GAAqB,CACzBmD,gBAGalD,gBATS,SAACpB,EAAUqB,GAAX,oBACtB8B,MAAMnD,EAAMmD,OACT9B,KAOkCF,GAAxBC,CAA4C8H,IC5DrDhB,GAAUC,KAAKD,QAEfE,GAAU,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAE/CiB,G,uKA8BK,IAAD,OACAC,EAAqB9I,KAAK+H,cAAc7F,KAAI,SAAAC,GAChD,IAAI4G,EAAW,EACf,EAAKC,sBAAsB7G,GAAM8G,SAAQ,SAAC9G,GACxC4G,EAAY7H,KAAKuB,MAAMN,EAAK6B,UAAU9C,KAAKuB,MAAMN,EAAK2C,YAAaiE,KAErE,IAAIG,EAAMH,EAAS,KAAQ,IACrBI,EAAQ3F,KAAKC,MAAMsF,EAAS,MAC5BK,EAAS5F,KAAKC,MAAY,IAANyF,GAAUH,EAAS,KAAO,KAAQ,IAAOA,EAAS,KAAQ,KAChFM,EAAM,GAQV,OAPGF,GAAOC,EACRC,EAAI,UAAMF,EAAN,uBAAgBC,EAAhB,gBACGD,EACPE,EAAI,UAAMF,EAAN,gBACGC,IACPC,EAAI,UAAMD,EAAN,iBAGJ,uBAAKhH,IAAKD,EAAMhC,UAAU,iBACxB,uBAAKA,UAAU,WACb,uBAAKA,UAAU,QACb,4BAAOuC,YAAO,IAAIxB,KAAKiB,GAAM,qBAC7B,4BAAOyF,GAAQ,IAAI1G,KAAKiB,GAAM6F,YAEhC,uBAAK7H,UAAU,iBAAf,qBAAmC,EAAK6I,sBAAsB7G,GAAME,OAApE,sBACA,uBAAKlC,UAAU,YAAf,eAA6BkJ,IAE/B,uBAAKlJ,UAAU,cAEb,EAAK6I,sBAAsB7G,GAAMD,KAAI,SAAAmD,GAAM,OACzC,gBAAC,GAAD,eAAyBjD,IAAKiD,EAAOjF,IAAQiF,EAA7C,CAAqDmC,SAAS,sBAMlE8B,EAAoBtJ,KAAKuJ,aAAarH,KAAI,SAAAC,GAC9C,OACI,uBAAKhC,UAAU,cAEb,EAAKqJ,qBAAqBrH,GAAMD,KAAI,SAAAmD,GAAM,OACxC,gBAAC,GAAD,eAAyBjD,IAAKiD,EAAOjF,IAAQiF,EAA7C,CAAqDmC,SAAS,oBAMxE,OACE,gBAAC,KAAD,CAAMc,iBAAiB,KACrB,gBAAC,GAAD,CAASC,IAAI,uCAASnG,IAAI,KACxB,uBAAKjC,UAAU,iBACZ2I,EAAmBzG,OAAO,EAAEyG,EAAmB,gBAAC,IAAD,CAAOrJ,YAAY,+BAGvE,gBAAC,GAAD,CAAS8I,IAAI,iCAAQnG,IAAI,KACvB,uBAAKjC,UAAU,iBACZmJ,EAAkBjH,OAAO,EAAEiH,EAAkB,gBAAC,IAAD,CAAO7J,YAAY,kC,uCAnFzE,OAAOO,KAAKZ,MAAM8G,SAAS1D,QAAO,SAAAL,GAAI,OAAEA,EAAK6B,WAAW7B,EAAKgC,a,sCAI7D,OAAOnE,KAAKZ,MAAM8G,SAAS1D,QAAO,SAAAL,GAAI,OAAEA,EAAKgC,a,4CAI7C,OAAOiC,IAAEC,QAAQrG,KAAKmG,kBAAiB,SAACd,GACtC,OAAO3C,YAAO,IAAIxB,KAAKmE,EAAOrB,UAAU,mB,2CAK1C,OAAOoC,IAAEC,QAAQrG,KAAKyJ,iBAAgB,SAACpE,GACrC,OAAO3C,YAAO,IAAIxB,KAAKmE,EAAOoC,YAAY,mB,oCAK5C,OAAOjC,OAAOC,KAAKzF,KAAKgJ,uBAAuBtD,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAMkD,GAAGzE,KAAKuB,MAAM9C,Q,mCAIpF,OAAO6F,OAAOC,KAAKzF,KAAKwJ,sBAAsB9D,MAAK,SAAC/F,EAAEgG,GAAH,OAAOzE,KAAKuB,MAAMkD,GAAGzE,KAAKuB,MAAM9C,U,GA3B3De,aAkGbE,gBALS,SAACpB,EAAUqB,GAAX,oBACtBqF,SAAS1G,EAAM0G,UACZrF,KAGUD,CAAyBiI,IClGlCa,G,kDACJ,WAAYtK,GAAwB,IAAD,8BACjC,cAAMA,IACDI,MAAM,CACTN,KAAK,IAH0B,E,qDA2B1B,IACHyK,EADE,OASN,OANEA,EADmB,WAAlB3J,KAAKR,MAAMN,KACD,gBAAC,GAAD,MACc,SAAlBc,KAAKR,MAAMN,KACR,gBAAC,GAAD,MAEA,6BAGV,uBAAKiB,UAAU,aAAaC,GAAG,cAC7B,0BACE,sBAAIF,QAAS,kBAAI,EAAKM,SAAS,CAACtB,KAAK,aACnC,uBAAKiB,UAAU,eACb,uBAAKA,UAAU,SAAf,4BACA,iEACA,uBAAKA,UAAU,OAAOH,KAAKmG,iBAAiB9D,SAE5C,gBAAC,GAAD,CAASxC,KAAMG,KAAK4J,cAAezC,SAAUnH,KAAKmG,oBAEtD,sBAAIjG,QAAS,kBAAI,EAAKM,SAAS,CAACtB,KAAK,WACnC,uBAAKiB,UAAU,eACb,uBAAKA,UAAU,SAAf,4BACA,iEACA,uBAAKA,UAAU,OAAOH,KAAKwI,cAAcnG,SAEzC,gBAAC,GAAD,CAASxC,KAAMG,KAAK6J,WAAY1C,SAAUnH,KAAKwI,kBAGpDmB,K,uCAhDL,OAAO3J,KAAKZ,MAAM8G,SAAS1D,QAAO,SAAAL,GAAI,OAAEA,EAAK6B,WAAW7B,EAAKgC,a,oCAI7D,OAAOiC,IAAEC,QAAQrG,KAAKmG,kBAAiB,SAACd,GACtC,OAAO3C,YAAO,IAAIxB,KAAKmE,EAAOrB,UAAU,mB,oCAK1C,OAAOhE,KAAKZ,MAAMuD,MAAMH,QAAO,SAAAL,GAAI,OAAEA,EAAKnB,YAAYmB,EAAKT,a,iCAI3D,OAAO0E,IAAEC,QAAQrG,KAAKwI,eAAc,SAACN,GACnC,OAAOxF,YAAO,IAAIxB,KAAKgH,EAAKjH,cAAc,qB,GAxBvBP,aAoEVE,gBANS,SAACpB,EAAUqB,GAAX,oBACtB8B,MAAMnD,EAAMmD,MACZuD,SAAS1G,EAAM0G,UACZrF,KAGUD,CAAyB8I,IC/DlCI,GACJ,gBAAC,IAAD,KACE,gBAAC,IAAKC,KAAN,CAAW3H,IAAI,IAAIlC,QAPR,WACb7B,aAAaO,QAAQ,UAAU,IAC/BnB,EAAQqB,KAAK,YAKyB,gBAAC,IAAD,CAAMI,KAAK,SAA/C,iBAIE8K,G,kDACJ,WAAY5K,GAAW,IAAD,8BACpB,cAAMA,IAMR6K,SAPsB,sBAOX,8BAAAtK,EAAA,+EAEgB/B,EAAMsM,IAAI,SAF1B,OAEDvL,EAFC,OAGDgE,EAAQhE,EAASkB,KAAKsK,UAAUjI,KAAI,SAACC,GAAD,OAAYqD,OAAO4E,OAAO,GAAGjI,EAAK,CAACZ,SAAQ,OACrF,EAAKnC,MAAMiL,SAAS1H,GAJb,sDAMD,IAAI5C,MAAJ,MANC,yDAPW,EAiBtBuK,YAjBsB,sBAiBR,4BAAA3K,EAAA,+EAEa/B,EAAMsM,IAAI,YAFvB,OAEJvL,EAFI,OAGV,EAAKS,MAAMmL,WAAW5L,EAASkB,KAAKsK,WAH1B,sDAKJ,IAAIpK,MAAJ,MALI,yDAjBQ,EA0BtByK,MA1BsB,sBA0Bd,4BAAA7K,EAAA,sEACmB/B,EAAMsM,IAAI,MAD7B,OACEvL,EADF,OAEJ,EAAK6B,SAAS,CACZiK,KAAK9L,EAASkB,KAAK6K,UAHjB,2CAxBN,EAAKlL,MAAM,CACTiL,KAAK,IAHa,E,2LAkCdzK,KAAKwK,Q,uBACLxK,KAAKiK,W,uBACLjK,KAAKsK,c,qIAIX,OACE,uBAAKnK,UAAU,OAAOC,GAAG,QACvB,8BACE,wBAAMD,UAAU,QAAO,uBAAKA,UAAU,OAAOwK,QAAQ,gBAAgBC,QAAQ,MAAMC,MAAM,6BAA6BC,OAAK,OAAOxH,MAAM,KAAKyH,OAAO,MAAK,wBAAMC,EAAE,kLAAkLzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,4sBAA4sBzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,iWAAiWzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,oYAAoYzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,6mBAA6mBzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,wTAAwTzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,+mBAA+mBzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,4TAA4TzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,keAAkezE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,qRAAqRzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,whBAAwhBzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,sKAAsKzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,uSAAuSzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,+JAA+JzE,KAAK,UAAUuE,OAAK,SAAc,wBAAME,EAAE,khBAAkhBzE,KAAK,UAAUuE,OAAK,UAAoB,yDACrlN,gBAAC,IAAD,CAAUG,QAASnB,IACjB,4BAAO9J,KAAKR,MAAMiL,KAAK,gBAAC,IAAD,CAAMvL,KAAK,OAAOmE,MAAO,CAAC6H,WAAW,YAGhE,4BACE,gBAAC,EAAD,MACA,gBAAC,EAAD,OAEF,gBAAC,GAAD,W,GArDWxK,aA+DbC,GAAqB,CACzB4J,WTnFwB,SAACtL,GACzB,MAAO,CACLC,KLJuB,cKKvBD,YSiFFoL,SfpFsB,SAACpL,GACvB,MAAO,CACLC,KCTqB,YDUrBD,aeoFW2B,gBATS,SAACpB,EAAUqB,GAAX,sBACnBA,KAQkCF,GAAxBC,CAA4CoJ,I,mBCrFtCmB,I,yDACnB,WAAY/L,GAAW,IAAD,8BACpB,cAAMA,IAORmB,SAAW,SAAC6B,EAAuB9B,GACjC,IAAM8K,EAAe,GACrBA,EAAShJ,GAAO9B,EAChB,EAAKE,SAAS4K,IAXM,EActBC,OAdsB,sBAcb,gCAAA1L,EAAA,2DACoB,EAAKH,MAAzBkL,EADA,EACAA,QAAQY,EADR,EACQA,SACF,KAAVZ,EAFI,uBAGLa,KAAQC,UACRD,KAAQE,QAAQ,wCAJX,6BAOO,KAAXH,EAPI,uBAQLC,KAAQC,UACRD,KAAQE,QAAQ,wCATX,oDAaC7N,EAAMgC,KAAK,eAAe,CAC9B8K,UACAY,aAfG,QAiBL,EAAKlM,MAAM3B,QAAQqB,KAAK,KAjBnB,kDAmBLyM,KAAQC,UACRD,KAAQE,QAAQ,KAAE9M,SAASkB,KAAK6L,QApB3B,0DAZP,EAAKlM,MAAQ,CACXkL,QAAQ,GACRY,SAAS,IAJS,E,qDAuCb,IAAD,SACqBtL,KAAKR,MAAzBkL,EADD,EACCA,QAAQY,EADT,EACSA,SACf,OACE,uBAAKnL,UAAU,QAAQC,GAAG,SACxB,0CACA,gBAAC,IAAD,CACEC,YAAY,mDACZsL,OAAQ,gBAAC,IAAD,CAAMzM,KAAK,OAAOmE,MAAO,CAACuI,MAAM,qBACxCtL,MAAOoK,EACPnK,SAAU,SAACjB,GAAD,OAAK,EAAKiB,SAAS,UAAUjB,EAAEmB,OAAOH,UAElD,gBAAC,IAAMuL,SAAP,CAAgBvL,MAAOgL,EAAUjL,YAAY,iCAAQE,SAAU,SAACjB,GAAD,OAAK,EAAKiB,SAAS,WAAWjB,EAAEmB,OAAOH,UACtG,gBAAC,IAAD,CAAQpB,KAAK,UAAUiB,UAAU,cAAcD,QAASF,KAAKqL,QAA7D,gBACA,8FAAc,gBAAC,KAAD,CAAMS,GAAG,WAAT,sB,GArDapL,cCA7BqL,I,OAAgB,CACpB,yBAAyB,uCACzB,yBAAyB,+CAGNC,G,kDACnB,WAAY5M,GAAW,IAAD,8BACpB,cAAMA,IAQRmB,SAAW,SAAC6B,EAAwB9B,GAClC,IAAM8K,EAAe,GACrBA,EAAShJ,GAAO9B,EAChB,EAAKE,SAAS4K,IAZM,EAetBC,OAfsB,sBAeb,oCAAA1L,EAAA,2DACyC,EAAKH,MAA9CkL,EADA,EACAA,QAAQY,EADR,EACQA,SAASW,EADjB,EACiBA,qBACX,KAAVvB,EAFI,uBAGLa,KAAQC,UACRD,KAAQE,QAAQ,wCAJX,6BAOO,KAAXH,EAPI,uBAQLC,KAAQC,UACRD,KAAQE,QAAQ,wCATX,6BAYmB,KAAvBQ,EAZI,wBAaLV,KAAQC,UACRD,KAAQE,QAAQ,oDAdX,sDAkBC7N,EAAMgC,KAAK,eAAe,CAC9B8K,UACAY,WACAY,sBAAsBD,IArBnB,QAuBL,EAAK7M,MAAM3B,QAAQqB,KAAK,KAvBnB,mDA0BL0G,OAAOC,KAAK,KAAE9G,SAASkB,KAAK6L,QAAQzC,SAAQ,SAAC7G,GAC3CiH,EAAO0C,GAAU,KAAEpN,SAASkB,KAAK6L,OAAOtJ,GAAK,OAE/CmJ,KAAQC,UACRD,KAAQE,QAAQpC,GA9BX,2DAbP,EAAK7J,MAAQ,CACXkL,QAAQ,GACRY,SAAS,GACTW,qBAAqB,IALH,E,qDAiDb,IAAD,SAC0CjM,KAAKR,MAA9CkL,EADD,EACCA,QAAQY,EADT,EACSA,SAASW,EADlB,EACkBA,qBACxB,OACE,uBAAK9L,UAAU,SAASC,GAAG,UACzB,0CACA,gBAAC,IAAD,CACEC,YAAY,mDACZsL,OAAQ,gBAAC,IAAD,CAAMzM,KAAK,OAAOmE,MAAO,CAACuI,MAAM,qBACxCtL,MAAOoK,EACPnK,SAAU,SAACjB,GAAD,OAAK,EAAKiB,SAAS,UAAUjB,EAAEmB,OAAOH,UAElD,gBAAC,IAAMuL,SAAP,CAAgBvL,MAAOgL,EAAUjL,YAAY,iCAAQE,SAAU,SAACjB,GAAD,OAAK,EAAKiB,SAAS,WAAWjB,EAAEmB,OAAOH,UACtG,gBAAC,IAAMuL,SAAP,CAAgBvL,MAAO2L,EAAsB5L,YAAY,iCAAQE,SAAU,SAACjB,GAAD,OAAK,EAAKiB,SAAS,uBAAuBjB,EAAEmB,OAAOH,UAC9H,gBAAC,IAAD,CAAQpB,KAAK,UAAUiB,UAAU,eAAeD,QAASF,KAAKqL,QAA9D,gBACA,wFAAa,gBAAC,KAAD,CAAMS,GAAG,UAAT,sB,GAhEepL,aCPfyL,G,uKAEjB,OACE,kBAAC,IAAD,CAAQ1O,QAASA,GACf,kBAAC,IAAD,CAAO2O,OAAO,EAAMC,KAAK,IAAIC,UAAWtC,KACxC,kBAAC,IAAD,CAAOoC,OAAO,EAAMC,KAAK,SAASC,UAAWnB,KAC7C,kBAAC,IAAD,CAAOiB,OAAO,EAAMC,KAAK,UAAUC,UAAWN,U,GANrBtL,IAAM6L,WCInBC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,aCdSC,gBAAgB,CAAClK,MCFjB,WAA8B,IAArBnD,EAAoB,uDAAd,GAAG8H,EAAW,uCAC1C,OAAOA,EAAOpI,MACZ,IpBJoB,WoBKlB,MAAM,CAAEoI,EAAOrI,SAAf,oBAA0BO,IAC5B,IpBLqB,YoBMnB,OAAO,aAAI8H,EAAOrI,SACpB,IpBLuB,coBMrB,OAAOO,EAAM0C,KAAI,SAACC,GAChB,OAAGmF,EAAOrI,QAAQmB,KAAK+B,EAAK/B,GACnBkH,EAAOrI,QAEPkD,KAGb,IpBdqB,YoBenB,OAAO3C,EAAM0C,KAAI,SAACC,GAChB,OAAGA,EAAK/B,KAAKkH,EAAOrI,QACXuG,OAAO4E,OAAO,GAAGjI,EAAK,CAACZ,SAAU,IAEjCiE,OAAO4E,OAAO,GAAGjI,EAAK,CAACZ,SAAU,OAG9C,QACE,OAAO/B,IDrByB0G,SEFvB,WAA8B,IAArB1G,EAAoB,uDAAd,GAAG8H,EAAW,uCAC1C,OAAOA,EAAOpI,MACZ,IrBCsB,aqBApB,MAAM,CAAEoI,EAAOrI,SAAf,oBAA0BO,IAC5B,IrBAuB,cqBCrB,OAAO,aAAI8H,EAAOrI,SACpB,IrBDyB,gBqBEvB,OAAOO,EAAM0C,KAAI,SAACC,GAChB,OAAGmF,EAAOrI,QAAQmB,KAAK+B,EAAK/B,GACnBkH,EAAOrI,QAEPkD,KAGb,QACE,OAAO3C,MCZEsN,GAFDC,aAAYC,ICK1BC,IAASC,OACP,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,GAAD,OAEFK,SAASC,eAAe,SL+HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAApP,GACLC,QAAQD,MAAMA,EAAMgN,c","file":"static/js/main.d4fb2b2d.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history'\r\n\r\nconst history = createBrowserHistory()\r\n\r\nexport default history","import axios from 'axios'\r\nimport history from './history'\r\n\r\nconst appID = \"N3y3yFNjWuHk6NRX3N1CYmBc\"\r\nconst appSecret = \"EuoKSFs7eNmxKDjmpuqGymWp\"\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://gp-server.hunger-valley.com/',\r\n    headers: {\r\n        't-app-id': appID,\r\n        't-app-secret': appSecret\r\n    }\r\n});\r\n\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n    const xToken = localStorage.getItem('x-token')\r\n    if(xToken){\r\n        config.headers['Authorization'] = `Bearer ${xToken}`\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    console.error(error)\r\n    return Promise.reject(error);\r\n});\r\n\r\n// Add a response interceptor\r\ninstance.interceptors.response.use(function (response) {\r\n    // Do something with response data\r\n    if(response.headers['x-token']){\r\n        localStorage.setItem('x-token',response.headers['x-token'])\r\n    }\r\n    return response;\r\n}, function (error) {\r\n    // Do something with response error\r\n    if(error.response?.status===401){\r\n      history.push('/login')\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default instance","import * as React from 'react'\r\nimport './CountDown.scss';\r\n\r\ninterface ICountDownProps{\r\n  timer:number,\r\n  onFinish:()=>void,\r\n  duration:number,\r\n}\r\n\r\ninterface ICountDownState{\r\n  countDown:number,\r\n}\r\n\r\nlet timerId:NodeJS.Timeout\r\n\r\nexport default class CountDown extends React.Component<ICountDownProps,ICountDownState>{\r\n  constructor(props:ICountDownProps){\r\n    super(props)\r\n    this.state={\r\n      countDown:this.props.timer\r\n    }\r\n  }\r\n\r\n  get countDown(){\r\n    const min = Math.floor(this.state.countDown/60000)\r\n    const second = Math.floor(this.state.countDown/1000%60)\r\n    return `${min<10?('0'+min):min}:${second<10?('0'+second):second}`\r\n  }\r\n\r\n  componentDidMount(){\r\n    timerId = setInterval(()=>{\r\n      const time = this.state.countDown\r\n      this.setState({\r\n        countDown:time-1000\r\n      })\r\n      if(time<1000){\r\n        this.props.onFinish()\r\n        clearInterval(timerId)\r\n      }\r\n    },1000)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval(timerId)\r\n  }\r\n\r\n  render(){\r\n    const percent = 1 - this.state.countDown/this.props.duration\r\n    return(\r\n      <div className='CountDown' id='CountDown'>\r\n        <span className=\"restTime\">{this.countDown}</span>\r\n        <div className=\"progress\" style={{width:`${percent*100}%`}}></div>\r\n      </div>\r\n    )\r\n  }\r\n} ","import { ADD_TODO,INIT_TODO,UPDATE_TODO,EDIT_TODO } from \"../actionTypes\";\r\n\r\nexport const addTodo = (payload:any)=>{\r\n  return {\r\n    type:ADD_TODO,\r\n    payload\r\n  }\r\n}\r\nexport const initTodo = (payload:any[])=>{\r\n  return {\r\n    type:INIT_TODO,\r\n    payload\r\n  }\r\n}\r\nexport const updateTodo = (payload:any)=>{\r\n  return {\r\n    type:UPDATE_TODO,\r\n    payload\r\n  }\r\n}\r\nexport const editTodo = (payload:any[])=>{\r\n  return {\r\n    type:EDIT_TODO,\r\n    payload\r\n  }\r\n}","export const ADD_TODO = 'ADD_TODO'\r\nexport const INIT_TODO = 'INIT_TODO'\r\nexport const EDIT_TODO = 'EDIT_TODO'\r\nexport const UPDATE_TODO = 'UPDATE_TODO'\r\n\r\nexport const ADD_TOMATO = 'ADD_TOMATO'\r\nexport const INIT_TOMATO = 'INIT_TOMATO'\r\nexport const UPDATE_TOMATO = 'UPDATE_TOMATO'","import * as React from 'react'\r\nimport {Icon, Input} from 'antd'\r\nimport { connect } from \"react-redux\";\r\nimport { addTodo } from \"../../redux/actions/todos\";\r\nimport axios from \"../../config/axios\";\r\n\r\ninterface ITodoInputState{\r\n  description:string,\r\n}\r\n\r\ninterface ITodoInputProps{\r\n  addTodo:(payload:any) => any;\r\n}\r\n\r\nclass TodoInput extends React.Component<ITodoInputProps,ITodoInputState>{\r\n  constructor(props:any){\r\n    super(props)\r\n    this.state={\r\n      description:''\r\n    }\r\n  }\r\n  onKeyUp = (e:any) =>{\r\n    if(e.keyCode === 13 && this.state.description !== ''){\r\n      this.addTodo()\r\n    }\r\n  }\r\n\r\n  addTodo = async () =>{\r\n    try {\r\n      const response = await axios.post('todos',{\r\n        description:this.state.description\r\n      })\r\n      this.props.addTodo(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {description} = this.state\r\n    const suffix = description?<Icon type='enter' onClick={this.addTodo}/>:<span/>\r\n    return(\r\n      <div className='TodoInput' id='TodoInput'>\r\n        <Input\r\n          placeholder=\"添加新任务\"\r\n          suffix={suffix}\r\n          value={description}\r\n          onChange={e=>this.setState({description:e.target.value})}\r\n          onKeyUp={this.onKeyUp}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n} \r\n\r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  addTodo\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(TodoInput)","import * as React from 'react'\r\nimport {Checkbox,Input,Icon} from 'antd'\r\nimport './TodoItem.scss'\r\nimport classNames from 'classnames'\r\nimport { connect } from \"react-redux\";\r\nimport { editTodo,updateTodo } from \"../../redux/actions/todos\";\r\nimport axios from \"../../config/axios\";\r\n\r\ninterface ITodoItemProps{\r\n  id:number,\r\n  description:string,\r\n  completed:Boolean,\r\n  editing:Boolean,\r\n  editTodo:(id:number)=>any,\r\n  updateTodo:(payload:any)=>any,\r\n}\r\n\r\ninterface ITodoItemState{\r\n  editText:string\r\n}\r\n\r\nclass TodoItem extends React.Component<ITodoItemProps,ITodoItemState>{\r\n  constructor(props:any){\r\n    super(props)\r\n    this.state={\r\n      editText:this.props.description\r\n    }\r\n  }\r\n\r\n  updateTodo = async (params:any) =>{\r\n    if(params.completed){\r\n      params.completed_at = new Date()\r\n    }\r\n    try {\r\n      const response = await axios.put(`todos/${this.props.id}`,params)\r\n      this.props.updateTodo(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  editTodo = () =>{\r\n    this.props.editTodo(this.props.id)\r\n  }\r\n\r\n  handleKeyUp = (e:any) =>{\r\n    if(e.keyCode===13&&this.state.editText!==''){\r\n      this.updateTodo({description:this.state.editText})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {completed,description,editing} = this.props\r\n    const Editing = (\r\n      <div className=\"editing\">\r\n        <Input \r\n          type='text' \r\n          value={this.state.editText} \r\n          onChange={e=>this.setState({editText:e.target.value})}\r\n          onKeyUp={this.handleKeyUp}\r\n        />\r\n        <div className=\"iconWrapper\">\r\n          <Icon type='enter' onClick={()=>this.updateTodo({description:this.state.editText})}/>\r\n          <Icon type='delete' theme='filled' onClick={()=>this.updateTodo({deleted:true})}/>\r\n        </div>  \r\n      </div>\r\n    )\r\n    const Text = <span className='text' onDoubleClick={this.editTodo}>{description}</span>\r\n    const todoItemClass = classNames({\r\n      TodoItem:true,\r\n      editing,\r\n      completed\r\n    }) \r\n    return(\r\n      <div className={todoItemClass} id='TodoItem'>\r\n        <Checkbox \r\n          checked={completed?true:false}\r\n          onChange={e=>this.updateTodo({completed:e.target.checked})}  \r\n        />\r\n        {\r\n          editing?Editing:Text\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n} \r\n\r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  editTodo,\r\n  updateTodo\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(TodoItem)","import * as React from 'react'\r\nimport './Todos.scss'\r\nimport TodoInput from \"./TodoInput\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport { connect } from \"react-redux\";\r\nimport { Empty } from \"antd\";\r\nimport { format } from \"date-fns\";\r\n\r\nclass Todos extends React.Component<any>{\r\n  \r\n  get CompletedTodos(){\r\n    return this.unDeletedTodos.filter((item:any) => item.completed&&(Date.parse(item.completed_at)>Date.parse(format(new Date(),'yyyy-MM-dd'))))\r\n  }\r\n\r\n  get unCompletedTodos(){\r\n    return this.unDeletedTodos.filter((item:any) => !item.completed)\r\n  }\r\n\r\n  get unDeletedTodos(){\r\n    return this.props.todos.filter((item:any) => !item.deleted)\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Todos' id='Todos'>\r\n        <TodoInput/>\r\n        <div className='todoLists'>\r\n          {this.unCompletedTodos.map((item:any) => <TodoItem key={item.id} {...item}/>)}\r\n          {this.unCompletedTodos.length<1&&this.CompletedTodos.length<1?<Empty description='暂无数据'/>:'最近已完成：'}\r\n          {this.CompletedTodos.map((item:any) => <TodoItem key={item.id} {...item}/>)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n} \r\n\r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  todos:state.todos,\r\n  ...ownProps\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(Todos)","import * as React from 'react'\r\nimport { Button,Modal, Input,Icon } from \"antd\";\r\nimport axios from \"../../config/axios\";\r\nimport CountDown from \"./CountDown\";\r\nimport \"./TomatoAction.scss\";\r\n\r\ninterface ITomatoActionProps{\r\n  startTomato:()=>void,\r\n  updateTomato:(payload:any)=>any,\r\n  unfinishedTomato:any,\r\n}\r\n\r\ninterface ITomatoActionState{\r\n  description:string,\r\n}\r\n\r\nconst confirm = Modal.confirm\r\n\r\nexport default class TomatoAction extends React.Component<ITomatoActionProps,ITomatoActionState>{\r\n\r\n  constructor(props:ITomatoActionProps){\r\n    super(props)\r\n    this.state = {\r\n      description:''\r\n    }\r\n  }\r\n\r\n  updateTomato = async(params:any) =>{\r\n    try {\r\n      const response = await axios.put(`tomatoes/${this.props.unfinishedTomato.id}`,params)\r\n      this.props.updateTomato(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  onKeyUp = (e:any) =>{\r\n    if(e.keyCode===13&&this.state.description!==''){\r\n      this.updateTomato({\r\n        description:this.state.description,\r\n        ended_at:new Date()\r\n      })\r\n      this.setState({description:''})\r\n    }\r\n  }\r\n\r\n  onFinish = () =>{\r\n    this.forceUpdate()\r\n  }\r\n\r\n  abortTomato = () =>{\r\n    this.updateTomato({aborted:true})\r\n  }\r\n\r\n  showConfirm = () =>{\r\n    confirm({\r\n      title:'您目前正在一个番茄工作时间中，要放弃这个番茄吗？',\r\n      onCancel(){},\r\n      onOk:()=>{this.abortTomato()},\r\n      okText:'确认',\r\n      cancelText:'取消'\r\n    })\r\n  }\r\n\r\n  render(){\r\n    const {startTomato,unfinishedTomato} = this.props\r\n    let html = <div/>\r\n    if(unfinishedTomato===undefined){\r\n      html = <Button className='startTomatoButton' onClick={()=>{startTomato()}}>开始番茄</Button>\r\n    }else{\r\n      const startAt = Date.parse(unfinishedTomato.started_at)\r\n      const duration = unfinishedTomato.duration\r\n      const timeNow = new Date().getTime()\r\n      if(timeNow-startAt>duration){\r\n        html = (<div className='inputWrapper'>\r\n                  <Input\r\n                    value={this.state.description}\r\n                    onChange={e=>this.setState({description:e.target.value})}\r\n                    onKeyUp={e=>this.onKeyUp(e)}\r\n                    placeholder='请输入你刚刚完成的任务'\r\n                  />\r\n                  <Icon type='close-circle' className='abort' onClick={this.showConfirm}/>\r\n                </div>)\r\n      }else if(timeNow-startAt<duration){\r\n        const timer = duration-timeNow+startAt\r\n        html = <div className=\"countDownWrapper\">\r\n                  <CountDown timer={timer} onFinish={this.onFinish} duration={duration}/>\r\n                  <Icon type='close-circle' className='abort' onClick={this.showConfirm}/>\r\n               </div>\r\n      }\r\n    }\r\n    \r\n    return(\r\n      <div className='TomatoAction' id='TomatoAction'>\r\n        {html}\r\n      </div>\r\n    )\r\n  }\r\n} ","import { ADD_TOMATO,INIT_TOMATO,UPDATE_TOMATO } from \"../actionTypes\";\r\n\r\nexport const addTomato = (payload:any)=>{\r\n  return {\r\n    type:ADD_TOMATO,\r\n    payload\r\n  }\r\n}\r\nexport const initTomato = (payload:any)=>{\r\n  return {\r\n    type:INIT_TOMATO,\r\n    payload\r\n  }\r\n}\r\nexport const updateTomato = (payload:any)=>{\r\n  return {\r\n    type:UPDATE_TOMATO,\r\n    payload\r\n  }\r\n}","import * as React from 'react'\r\nimport { format } from \"date-fns\";\r\nimport './TomatoList.scss';\r\n\r\ninterface ITomatoListProps{\r\n  finishedTomato:any,\r\n}\r\n\r\nfunction TomatoItem(props:any){\r\n  return(\r\n    <div className=\"TomatoItem\">\r\n      <span className='timeRange'>{format(new Date(props.started_at),'HH:mm')} - {format(new Date(props.ended_at),'HH:mm')}</span>\r\n      <span className='description'>{props.description}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default class TomatoList extends React.Component<ITomatoListProps>{\r\n  constructor(props:ITomatoListProps){\r\n    super(props)\r\n    this.state={\r\n\r\n    }\r\n  }\r\n\r\n  get dateSort(){\r\n    const dates = Object.keys(this.props.finishedTomato)\r\n    return dates.sort((a,b)=>Date.parse(b)-Date.parse(a)).splice(0,3)\r\n  }\r\n\r\n  render(){\r\n    const list = this.dateSort.map(item=>{\r\n                   const tomato = this.props.finishedTomato[item]\r\n                   return(\r\n                     <div key={item} className='dailyTomato'>\r\n                       <div className=\"title\">\r\n                          <span className='dateTime'>{format(new Date(item),'M月d日')}</span>\r\n                          <span className='finishedCount'>完成了{tomato.length}个番茄</span>\r\n                       </div>\r\n                       {\r\n                         tomato.map((t:any)=><TomatoItem key={t.id} {...t}/>)\r\n                       }\r\n                     </div>\r\n                   )\r\n                 })\r\n    return(\r\n      <div className='TomatoList' id='TomatoList'>\r\n        {list}\r\n      </div>\r\n    )\r\n  }\r\n} ","import * as React from 'react'\r\nimport TomatoAction from \"./TomatoAction\";\r\nimport './Tomatoes.scss'\r\nimport { Empty } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { addTomato,updateTomato } from \"../../redux/actions/tomatoes\";\r\nimport axios from \"../../config/axios\";\r\nimport TomatoList from \"./TomatoList\";\r\nimport _ from \"lodash\";\r\nimport { format } from \"date-fns\";\r\n\r\ninterface ITomatoesProps{\r\n  addTomato:(payload:any)=>any;\r\n  initTomato:(payload:any[])=>any;\r\n  updateTomato:(payload:any)=>any;\r\n  tomatoes:any,\r\n}\r\n\r\nclass Tomatoes extends React.Component<ITomatoesProps>{\r\n\r\n  startTomato = async() =>{\r\n    try {\r\n      const response = await axios.post('tomatoes',{duration:1500000})\r\n      this.props.addTomato(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  get unFinishedTomato(){\r\n    return this.props.tomatoes.filter((item:any) => !item.description&&!item.ended_at&&!item.aborted)[0]\r\n  }\r\n\r\n  get finishedTomato(){\r\n    const finishedTomatoes = this.props.tomatoes.filter((item:any) => item.description&&item.ended_at&&!item.aborted)  \r\n    return _.groupBy(finishedTomatoes,(tomato)=>{\r\n      return format(new Date(tomato.started_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Tomatoes' id='Tomatoes'>\r\n        <TomatoAction \r\n          startTomato={this.startTomato} \r\n          unfinishedTomato={this.unFinishedTomato}\r\n          updateTomato={this.props.updateTomato}\r\n        />\r\n        {JSON.stringify(this.finishedTomato)==='{}'?<Empty description='暂无数据'/>:null}\r\n        <TomatoList finishedTomato={this.finishedTomato}/>\r\n      </div>\r\n    )\r\n  }\r\n} \r\n\r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  tomatoes:state.tomatoes,\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  addTomato,\r\n  updateTomato\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Tomatoes)","import * as React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport './Polygon.scss'\r\n\r\ninterface IPolygonProps{\r\n  data:any;\r\n  finished:any;\r\n}\r\n\r\n\r\nclass Polygon extends React.Component<IPolygonProps>{\r\n\r\n\r\n  get points(){\r\n    const date = Object.keys(this.props.data).sort((a,b)=>Date.parse(a)-Date.parse(b))\r\n    const firstDay = date[0]\r\n    if(firstDay){\r\n      const range = new Date().getTime()-Date.parse(firstDay)\r\n      let finishedCount = 0\r\n      let finishedY\r\n      const pointsArr = date.map(item=>{\r\n        const x = (Date.parse(item)-Date.parse(firstDay))/range*500\r\n        finishedCount += this.props.data[item].length\r\n        const y = (1-finishedCount/this.props.finished.length)*100\r\n        finishedY = y\r\n        return `${x},${y}`\r\n      })\r\n      return ['0,100',...pointsArr,`500,${finishedY}`,'500,100'].join(' ')\r\n    }else{\r\n      return '0,100 500,100'\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Polygon' id='Polygon'>\r\n        <svg>\r\n          <polygon \r\n            fill='rgba(215,78,78,.1)' \r\n            stroke='rgba(215,78,78,.5)'\r\n            strokeWidth='1'\r\n            points={this.points}\r\n          />\r\n        </svg>\r\n      </div>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  ...ownProps\r\n})\r\n\r\nexport default connect(mapStateToProps)(Polygon)","import * as React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { format } from \"date-fns\";\r\nimport { updateTodo } from \"../../../redux/actions/todos\";\r\nimport './TodoHistoryTodoItem.scss'\r\nimport { Icon } from \"antd\";\r\nimport axios from \"../../../config/axios\";\r\n\r\ninterface ITodoHistoryTodoItemProps{\r\n  todos:any[];\r\n  updated_at:string;\r\n  completed_at:string;\r\n  description:string;\r\n  itemType:string;\r\n  id:number;\r\n  updateTodo:(payload:any)=>any;\r\n}\r\n\r\nclass TodoHistoryTodoItem extends React.Component<ITodoHistoryTodoItemProps>{\r\n\r\n  updateTodo = async(params:any) =>{\r\n    try {\r\n      const response = await axios.put(`todos/${this.props.id}`,params)\r\n      this.props.updateTodo(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    let action,newFormat='',time=''\r\n    if(this.props.itemType === 'finished'){\r\n      newFormat = 'HH:mm'\r\n      time = this.props.completed_at\r\n      action = (\r\n        <div className=\"action\">\r\n          <Icon type='rollback' onClick={()=>this.updateTodo({completed:false})}/>\r\n          <Icon type='delete' theme='filled' onClick={()=>this.updateTodo({deleted:true})}/>\r\n        </div>\r\n      )\r\n    }else if(this.props.itemType === 'deleted'){\r\n      newFormat = 'yyyy-MM-dd  HH:mm'\r\n      time = this.props.updated_at\r\n      action = (\r\n        <div className=\"action\">\r\n          <Icon type='rollback' onClick={()=>this.updateTodo({deleted:false})}/>\r\n        </div>\r\n      )\r\n    }\r\n    \r\n    return(\r\n      <div className='TodoHistoryTodoItem'>\r\n        <div className=\"text\">\r\n          <span>{format(new Date(time),newFormat)}</span>\r\n          <span>{this.props.description}</span>\r\n        </div>\r\n        {action}\r\n      </div>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  todos:state.todos,\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  updateTodo\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(TodoHistoryTodoItem)","import * as React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { format } from \"date-fns\";\r\nimport { Tabs,Empty } from \"antd\";\r\nimport './TodoHistory.scss'\r\nimport TodoHistoryTodoItem from \"./TodoHistoryTodoItem\";\r\n\r\ninterface ITodoHistoryProps{\r\n  todos:any[];\r\n}\r\n\r\nconst TabPane = Tabs.TabPane\r\n\r\nconst weekDay = [\"周天\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"]\r\n\r\nclass TodoHistory extends React.Component<ITodoHistoryProps>{\r\n\r\n  get finishedTodos(){\r\n    return this.props.todos.filter(item=>item.completed&&!item.deleted)\r\n  }\r\n\r\n  get deletedTodos(){\r\n    return this.props.todos.filter(item=>item.deleted)\r\n  }\r\n\r\n  get dailyFinishedTodos(){\r\n    return _.groupBy(this.finishedTodos,(todo)=>{\r\n      return format(new Date(todo.completed_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  get dailydeletedTodos(){\r\n    return _.groupBy(this.deletedTodos,(todo)=>{\r\n      return format(new Date(todo.updated_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  get finishedDates(){\r\n    return Object.keys(this.dailyFinishedTodos).sort((a,b)=>Date.parse(b)-Date.parse(a))\r\n  }\r\n\r\n  get deletedDates(){\r\n    return Object.keys(this.dailydeletedTodos).sort((a,b)=>Date.parse(b)-Date.parse(a))\r\n  }\r\n\r\n  render(){\r\n    const finishedTodoList = this.finishedDates.map(item=>{\r\n      \r\n      return(\r\n        <div key={item} className=\"dailyTodos\">\r\n          <div className='summary'>\r\n            <div className='date'>\r\n              <span>{format(new Date(item),'MM月dd日')}</span>\r\n              <span>{weekDay[new Date(item).getDay()]}</span>\r\n            </div>\r\n            <div className=\"finishedCount\">完成了{this.dailyFinishedTodos[item].length}个任务</div>\r\n          </div>\r\n          <div className='todoList'>\r\n          {\r\n            this.dailyFinishedTodos[item].map(todo=>\r\n              <TodoHistoryTodoItem key={todo.id} {...todo} itemType='finished'/>)\r\n          }\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    const deletedTodoList = this.deletedDates.map(item=>{\r\n      return(\r\n          <div className='todoList'>\r\n          {\r\n            this.dailydeletedTodos[item].map(todo=>\r\n              <TodoHistoryTodoItem key={todo.id} {...todo} itemType='deleted'/>\r\n            )\r\n          }\r\n          </div>\r\n      )\r\n    })\r\n    return(\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <TabPane tab=\"已完成的任务\" key=\"1\">\r\n          <div className='TodoHistory'>\r\n            {finishedTodoList.length>0?finishedTodoList:<Empty description='暂无数据'/>}\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"已删除的任务\" key=\"2\">\r\n          <div className='TodoHistory'>\r\n            {deletedTodoList.length>0?deletedTodoList:<Empty description='暂无数据'/>}\r\n          </div>\r\n        </TabPane>\r\n      </Tabs>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  todos:state.todos,\r\n  ...ownProps\r\n})\r\n\r\nexport default connect(mapStateToProps)(TodoHistory)","import * as React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { format } from \"date-fns\";\r\nimport { updateTomato } from \"../../../redux/actions/tomatoes\";\r\nimport './TomatoHistoryTomatoItem.scss'\r\nimport { Icon } from \"antd\";\r\nimport axios from \"../../../config/axios\";\r\n\r\ninterface ITomatoHistoryTomatoItemProps{\r\n  tomatoes:any[];\r\n  updated_at:string;\r\n  started_at:string;\r\n  ended_at:string;\r\n  description:string;\r\n  itemType:string;\r\n  id:number;\r\n  updateTomato:(payload:any)=>any;\r\n}\r\n\r\nclass TomatoHistoryTomatoItem extends React.Component<ITomatoHistoryTomatoItemProps>{\r\n\r\n  updateTomato = async(params:any) =>{\r\n    try {\r\n      const response = await axios.put(`tomatoes/${this.props.id}`,params)\r\n      this.props.updateTomato(response.data.resource)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    let action,newFormat='',time1='',time2='',newFormat2 = 'HH:mm'\r\n    if(this.props.itemType === 'finished'){\r\n      newFormat = 'HH:mm'\r\n      time1 = this.props.started_at\r\n      time2 = this.props.ended_at\r\n      action = (\r\n        <div className=\"action\">\r\n          {/* <Icon type='rollback' onClick={()=>this.updateTomato({completed:false})}/> */}\r\n          <Icon type='delete' theme='filled' onClick={()=>this.updateTomato({aborted:true})}/>\r\n        </div>\r\n      )\r\n    }else if(this.props.itemType === 'aborted'){\r\n      newFormat = 'yyyy-MM-dd  HH:mm'\r\n      time1 = this.props.started_at\r\n      time2 = this.props.updated_at\r\n      action = (\r\n        <div className=\"action\">\r\n          {/* <Icon type='rollback' onClick={()=>this.updateTomato({aborted:false})}/> */}\r\n        </div>\r\n      )\r\n    }\r\n    return(\r\n      <div className='TomatoHistoryTomatoItem'>\r\n        <div className=\"text\">\r\n          <span>{`${format(new Date(time1),newFormat)}-${format(new Date(time2),newFormat2)}`}</span>\r\n          <span>{this.props.description?this.props.description:'未添加番茄描述'}</span>\r\n        </div>\r\n        {action}\r\n      </div>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  todos:state.todos,\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  updateTomato\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(TomatoHistoryTomatoItem)","import * as React from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { format } from \"date-fns\";\r\nimport { Tabs,Empty } from \"antd\";\r\nimport './TomatoHistory.scss'\r\nimport TomatoHistoryTomatoItem from \"./TomatoHistoryTomatoItem\";\r\n\r\ninterface ITomatoHistoryProps{\r\n  tomatoes:any[];\r\n}\r\n\r\nconst TabPane = Tabs.TabPane\r\n\r\nconst weekDay = [\"周天\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"]\r\n\r\nclass TomatoHistory extends React.Component<ITomatoHistoryProps>{\r\n\r\n  get finishedTomatoes(){\r\n    return this.props.tomatoes.filter(item=>item.ended_at&&!item.aborted)\r\n  }\r\n\r\n  get abortedTomatoes(){\r\n    return this.props.tomatoes.filter(item=>item.aborted)\r\n  }\r\n\r\n  get dailyFinishedTomatoes(){\r\n    return _.groupBy(this.finishedTomatoes,(tomato)=>{\r\n      return format(new Date(tomato.ended_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  get dailyAbortedTomatoes(){\r\n    return _.groupBy(this.abortedTomatoes,(tomato)=>{\r\n      return format(new Date(tomato.updated_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  get finishedDates(){\r\n    return Object.keys(this.dailyFinishedTomatoes).sort((a,b)=>Date.parse(b)-Date.parse(a))\r\n  }\r\n\r\n  get abortedDates(){\r\n    return Object.keys(this.dailyAbortedTomatoes).sort((a,b)=>Date.parse(b)-Date.parse(a))\r\n  }\r\n\r\n  render(){\r\n    const finishedTomatoList = this.finishedDates.map(item=>{\r\n      let countNum = 0\r\n      this.dailyFinishedTomatoes[item].forEach((item)=>{\r\n        countNum = (Date.parse(item.ended_at)-Date.parse(item.started_at))+countNum\r\n      })\r\n      let num = countNum%3600000%60000\r\n      const hours = Math.floor(countNum/3600000)\r\n      const minute = Math.floor(num!==0?((countNum+60000)%3600000/60000):countNum%3600000/60000)\r\n      let text =''\r\n      if(hours&&minute){\r\n        text = `${hours}小时${minute}分钟`\r\n      }else if(hours){\r\n        text = `${hours}小时`\r\n      }else if(minute){\r\n        text = `${minute}分钟`\r\n      }\r\n      return(\r\n        <div key={item} className=\"dailyTomatoes\">\r\n          <div className='summary'>\r\n            <div className='date'>\r\n              <span>{format(new Date(item),'MM月dd日')}</span>\r\n              <span>{weekDay[new Date(item).getDay()]}</span>\r\n            </div>\r\n            <div className=\"finishedCount\">完成了{this.dailyFinishedTomatoes[item].length}个番茄</div>\r\n            <div className='countNum'>总计{text}</div>\r\n          </div>\r\n          <div className='tomatoList'>\r\n          {\r\n            this.dailyFinishedTomatoes[item].map(tomato=>\r\n              <TomatoHistoryTomatoItem key={tomato.id} {...tomato} itemType='finished'/>)\r\n          }\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    const abortedTomatoList = this.abortedDates.map(item=>{\r\n      return(\r\n          <div className='tomatoList'>\r\n          {\r\n            this.dailyAbortedTomatoes[item].map(tomato=>\r\n              <TomatoHistoryTomatoItem key={tomato.id} {...tomato} itemType='aborted'/>\r\n            )\r\n          }\r\n          </div>\r\n      )\r\n    })\r\n    return(\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <TabPane tab=\"已完成的番茄\" key=\"1\">\r\n          <div className='TomatoHistory'>\r\n            {finishedTomatoList.length>0?finishedTomatoList:<Empty description='暂无数据'/>}\r\n          </div>\r\n        </TabPane>\r\n        <TabPane tab=\"打断的番茄\" key=\"2\">\r\n          <div className='TomatoHistory'>\r\n            {abortedTomatoList.length>0?abortedTomatoList:<Empty description='暂无数据'/>}\r\n          </div>\r\n        </TabPane>\r\n      </Tabs>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  tomatoes:state.tomatoes,\r\n  ...ownProps\r\n})\r\n\r\nexport default connect(mapStateToProps)(TomatoHistory)","import * as React from 'react'\r\nimport './Statistics.scss'\r\nimport { connect } from \"react-redux\";\r\nimport Polygon from \"./Polygon\";\r\nimport _ from \"lodash\";\r\nimport { format } from \"date-fns\";\r\nimport TodoHistory from \"./TodoHistory/TodoHistory\";\r\nimport TomatoHistory from \"./TomatoHistory/TomatoHistory\";\r\n\r\ninterface IStatisticsProps{\r\n  todos:any[];\r\n  tomatoes:any[];\r\n}\r\ninterface IStatisticsState{\r\n  type:string;\r\n}\r\nclass Statistics extends React.Component<IStatisticsProps,IStatisticsState>{\r\n  constructor(props:IStatisticsProps){\r\n    super(props)\r\n    this.state={\r\n      type:''\r\n    }\r\n  }\r\n\r\n  get finishedTomatoes(){\r\n    return this.props.tomatoes.filter(item=>item.ended_at&&!item.aborted)\r\n  }\r\n\r\n  get dailyTomatoes(){\r\n    return _.groupBy(this.finishedTomatoes,(tomato)=>{\r\n      return format(new Date(tomato.ended_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  get finishedTodos(){\r\n    return this.props.todos.filter(item=>item.completed&&!item.deleted)\r\n  }\r\n\r\n  get dailyTodos(){\r\n    return _.groupBy(this.finishedTodos,(todo)=>{\r\n      return format(new Date(todo.completed_at),'yyyy-MM-dd')\r\n    })\r\n  }\r\n\r\n  render(){\r\n    let History\r\n    if(this.state.type==='tomato'){\r\n      History =  <TomatoHistory/>\r\n    }else if(this.state.type==='todo'){\r\n      History = <TodoHistory/>\r\n    }else{\r\n      History = <span></span>\r\n    }\r\n    return(\r\n      <div className='Statistics' id='Statistics'>\r\n        <ul>\r\n          <li onClick={()=>this.setState({type:'tomato'})}>\r\n            <div className=\"textHistory\">\r\n              <div className=\"title\">番茄历史</div>\r\n              <p>累计完成番茄</p>\r\n              <div className=\"num\">{this.finishedTomatoes.length}</div>\r\n            </div>\r\n              <Polygon data={this.dailyTomatoes} finished={this.finishedTomatoes}/>\r\n          </li>\r\n          <li onClick={()=>this.setState({type:'todo'})}>\r\n            <div className=\"textHistory\">\r\n              <div className=\"title\">任务历史</div>\r\n              <p>累计完成任务</p>\r\n              <div className=\"num\">{this.finishedTodos.length}</div>\r\n            </div>\r\n              <Polygon data={this.dailyTodos} finished={this.finishedTodos}/>        \r\n          </li>\r\n        </ul>\r\n        {History}\r\n      </div>\r\n    )\r\n  }\r\n} \r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  todos:state.todos,\r\n  tomatoes:state.tomatoes,\r\n  ...ownProps\r\n})\r\n\r\nexport default connect(mapStateToProps)(Statistics)","import * as React from 'react'\r\nimport {Menu,Icon, Dropdown} from 'antd'\r\nimport axios from '../../config/axios'\r\nimport history from '../../config/history'\r\nimport './Home.scss'\r\nimport Todos from '../Todos/Todos';\r\nimport Tomatoes from \"../Tomatoes/Tomatoes\";\r\nimport Statistics from '../Statistics/Statistics'\r\nimport { connect } from \"react-redux\";\r\nimport { initTodo } from \"../../redux/actions/todos\";\r\nimport { initTomato } from \"../../redux/actions/tomatoes\";\r\n\r\ninterface IHomeState{\r\n  user:string,\r\n}\r\n\r\nconst logout = () => {\r\n  localStorage.setItem('x-token','')\r\n  history.push('/login')\r\n}\r\n\r\nconst menu = (\r\n  <Menu>\r\n    <Menu.Item key='1' onClick={logout}><Icon type='user'/>注销</Menu.Item>\r\n  </Menu>\r\n)\r\n\r\nclass Home extends React.Component<any,IHomeState>{\r\n  constructor(props:any){\r\n    super(props)\r\n    this.state={\r\n      user:''\r\n    }\r\n  }\r\n\r\n  getTodos = async () =>{\r\n    try {\r\n      const response = await axios.get('todos')\r\n      const todos = response.data.resources.map((item:any)=>Object.assign({},item,{editing:false}))\r\n      this.props.initTodo(todos)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  getTomatoes = async() =>{\r\n    try {\r\n      const response = await axios.get('tomatoes')\r\n      this.props.initTomato(response.data.resources)\r\n    } catch (error) {\r\n      throw new Error(error)\r\n    }\r\n  }\r\n\r\n  getMe = async() =>{\r\n      const response = await axios.get('me')\r\n      this.setState({\r\n        user:response.data.account\r\n      })\r\n  }\r\n  \r\n  async componentWillMount(){\r\n    await this.getMe()\r\n    await this.getTodos()\r\n    await this.getTomatoes()\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Home' id='Home'>\r\n        <header>\r\n          <span className='logo'><svg className=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4020\" width=\"32\" height=\"32\"><path d=\"M955.733 540.017c0 245.067-198.662 391.53-443.733 391.53S68.267 785.083 68.267 540.016c0-245.064 197.898-380.256 443.733-320.615 252.931-71.461 443.733 75.551 443.733 320.615z\" fill=\"#FF3000\" p-id=\"4021\"></path><path d=\"M512 952.026c-127.16 0-243.261-38.584-326.915-108.643C95.263 768.16 47.787 663.258 47.787 540.017c0-105.271 34.597-194.919 100.055-259.25 62.897-61.815 152.197-95.86 251.45-95.86 36.42 0 74.182 4.489 112.315 13.35 42.534-11.572 84.399-17.432 124.512-17.432 98.68 0 183.545 34.444 245.426 99.608 61.931 65.218 94.668 154.982 94.668 259.584 0 123.241-47.476 228.143-137.298 303.366C755.261 913.443 639.16 952.026 512 952.026zM399.288 225.867c-185.743 0-310.541 126.25-310.541 314.15 0 218.47 174.049 371.05 423.253 371.05 249.207 0 423.253-152.58 423.253-371.05 0-190.345-120.214-318.232-299.137-318.232-37.974 0-77.862 5.83-118.549 17.326a20.509 20.509 0 0 1-10.393 0.194c-36.752-8.915-73.05-13.438-107.886-13.438z\" fill=\"#FF601A\" p-id=\"4022\"></path><path d=\"M371.053 831.962a20.466 20.466 0 0 1-6.332-1.01c-56.62-18.401-106.557-50.93-144.41-94.071-40.428-46.07-63.81-101.062-67.622-159.038a20.48 20.48 0 0 1 19.094-21.78c11.243-0.73 21.036 7.806 21.78 19.094 6.312 96.017 80.183 183.156 183.822 216.839a20.48 20.48 0 0 1-6.332 39.966zM140.995 475.32a31.324 31.324 0 1 0 62.648 0 31.324 31.324 0 1 0-62.648 0z\" fill=\"#FFFFFF\" p-id=\"4023\"></path><path d=\"M450.953 292.43c-54.402 0-94.649-15.656-119.614-47.718-40.765-52.337-22.77-125.76-21.982-128.877 2.41-9.544 10.998-15.916 20.61-15.916 0.915 0 1.843 0.136 2.772 0.252a21.316 21.316 0 0 1 18.52 21.398c-1.42 116.45 110.026 128.82 114.774 129.287a21.286 21.286 0 0 1 19.176 21.716c-0.28 11.14-9.11 19.575-20.248 20.111-4.745 0.225-9.452-0.26-13.978-0.26-0.01 0.008-0.017 0.008-0.03 0.008z\" fill=\"#5DA500\" p-id=\"4024\"></path><path d=\"M329.98 121.35c-1.672 137.306 133.953 150.7 133.953 150.7a269.995 269.995 0 0 1-12.98 0.317c-159.096 0-120.972-151.016-120.972-151.016m-0.035-42.554a42.35 42.35 0 0 0-27.033 9.728 42.452 42.452 0 0 0-9.83 11.636 42.394 42.394 0 0 0-4.646 11.98c-3.15 13.241-18.514 88.956 26.129 146.262 29.211 37.499 75.097 56.511 136.397 56.511 4.884 0 9.94-0.123 15.022-0.369 22.384-1.078 40.4-19.298 40.803-41.704 0.403-22.35-16.258-41.164-38.506-43.124-2.14-0.273-27.84-3.806-51.907-19.18-29.798-19.029-44.148-47.786-43.85-87.882 0.01-0.434 0.016-0.874 0.016-1.308 0-22.831-17.974-41.458-40.55-42.502a40.96 40.96 0 0 0-2.045-0.048z\" fill=\"#167203\" p-id=\"4025\"></path><path d=\"M606.566 318.211c-53.009 0-97.351-34.488-99.212-35.956a21.272 21.272 0 0 1 22.092-36.02c19.872 9.174 39.253 13.823 57.606 13.823 68.247 0 106.906-65.27 107.288-65.928a21.333 21.333 0 0 1 18.456-10.626c3.1 0 6.24 0.676 9.203 2.106a21.248 21.248 0 0 1 10.594 26.873c-34.123 87.392-87.37 105.728-126.027 105.728z\" fill=\"#5DA500\" p-id=\"4026\"></path><path d=\"M712.776 204.749c-28.174 72.14-69.253 92.187-106.21 92.187-46.243 0-86.043-31.382-86.043-31.382 24.392 11.257 46.582 15.787 66.526 15.787 81.992 0 125.727-76.592 125.727-76.592m-0.014-42.875c-14.776 0-28.969 7.704-36.704 21.367-0.081 0.14-0.167 0.273-0.242 0.417-2.556 4.137-35.188 55.135-88.767 55.135-15.25 0-31.635-3.993-48.688-11.868a42.54 42.54 0 0 0-54.101 16.388 42.55 42.55 0 0 0 9.926 55.654c5.26 4.147 53.098 40.523 112.384 40.523 30.375 0 58.026-9.335 82.19-27.743 26.101-19.897 47.353-50.265 63.17-90.287a42.458 42.458 0 0 0 2.976-10.615c2.677-18.227-6.615-36.775-23.917-44.882a42.78 42.78 0 0 0-18.227-4.09z\" fill=\"#167203\" p-id=\"4027\"></path><path d=\"M498.794 282.064c-3.028 0-4.752-0.123-4.752-0.123-10.202-0.706-18.53-8.574-19.729-18.732s4.93-19.736 14.685-22.798c79.752-25.047 60.651-103.267 58.207-112.1-3.028-10.957 3.082-22.399 13.892-25.931a21.224 21.224 0 0 1 26.488 12.65c20.47 54.084 20.347 96.716-0.369 126.713-25.839 37.413-74.206 40.321-88.422 40.321z\" fill=\"#5DA500\" p-id=\"4028\"></path><path d=\"M567.689 122.566c49.862 131.734-48.93 138.223-68.895 138.223-2.185 0-3.424-0.075-3.424-0.075 102.523-32.198 72.319-138.148 72.319-138.148m-0.311-42.871c-4.489 0-9.045 0.723-13.513 2.245-21.661 7.384-33.7 30.215-27.147 52.112 0.485 1.942 4.909 20.623 0.942 40.332-4.621 22.999-18.927 37.536-45.035 45.732a42.55 42.55 0 0 0 10.09 83.06c0.771 0.05 2.911 0.16 6.079 0.16 16.828 0 74.199-3.57 105.93-49.5 24.923-36.09 25.848-85.323 2.754-146.336-6.448-17.04-22.774-27.805-40.1-27.805z\" fill=\"#167203\" p-id=\"4029\"></path><path d=\"M413.522 344.972c-65.382 0-89.392-70.615-90.382-73.619a21.272 21.272 0 0 1 36.683-20.115c18.562 22.73 39.445 33.775 63.833 33.775 33.3 0 61.529-21.108 61.802-21.323a21.217 21.217 0 0 1 13.005-4.44 21.279 21.279 0 0 1 14.397 36.949c-35.273 32.365-68.693 48.773-99.338 48.773z\" fill=\"#5DA500\" p-id=\"4030\"></path><path d=\"M343.347 264.7c25.952 31.775 54.685 41.592 80.31 41.592 41.495 0 74.816-25.767 74.816-25.767-34.898 32.02-62.884 43.175-84.951 43.175-50.743 0-70.175-59-70.175-59m-0.02-42.55a42.554 42.554 0 0 0-40.394 55.86c10.793 32.77 46.234 88.237 110.589 88.237 36.017 0 74.14-18.172 113.32-54.006a43.104 43.104 0 0 0 3.744-3.788c13.742-15.746 14.363-39.663 0.474-55.853a42.581 42.581 0 0 0-32.365-14.984c-9.155 0-18.35 2.983-26.099 9.134-1.949 1.406-24.128 16.991-48.933 16.991-11.23 0-28.355-2.693-47.357-25.958a42.54 42.54 0 0 0-32.98-15.633z\" fill=\"#167203\" p-id=\"4031\"></path><path d=\"M505.795 318.44c-30.263 0-53.088-17.067-53.088-39.694 0-22.63 22.825-39.697 53.088-39.697 30.269 0 53.094 17.067 53.094 39.697 0 22.63-22.825 39.694-53.094 39.694z\" fill=\"#5DA500\" p-id=\"4032\"></path><path d=\"M505.795 260.328c17.568 0 31.822 8.25 31.822 18.422s-14.254 18.418-31.822 18.418-31.813-8.246-31.813-18.418c0-10.175 14.244-18.422 31.813-18.422m0-42.55c-42.394 0-74.363 26.21-74.363 60.968s31.969 60.966 74.363 60.966c42.393 0 74.373-26.211 74.373-60.966 0-34.758-31.976-60.969-74.373-60.969z\" fill=\"#167203\" p-id=\"4033\"></path><path d=\"M565.111 450.993s52.081-72.58-3.54-135.253c-10.884-12.264-31.385-1.287-61.432 16.401 0 0 17.254 3.946 31.361 32.092 14.108 28.147 33.611 86.76 33.611 86.76z\" fill=\"#5DA500\" p-id=\"4034\"></path><path d=\"M565.115 471.473a20.483 20.483 0 0 1-19.436-14.015c-0.19-0.573-19.206-57.555-32.484-84.05-7.916-15.793-16.057-20.398-18.17-21.374-8.454-1.191-14.25-7.393-16.042-15.827-1.833-8.616 3.178-17.248 10.769-21.716 25.081-14.766 42.786-24.443 59.692-24.443 10.93 0 20.422 4.181 27.447 12.093 52.586 59.256 26.177 131.086 4.864 160.789a20.483 20.483 0 0 1-16.64 8.543z m-27.959-136.325c4.315 5.335 8.63 11.882 12.653 19.91 5.148 10.271 10.882 24.122 16.187 37.858 2.413-18.801-0.642-40.95-18.15-61.734-2.668 0.481-6.45 1.97-10.69 3.966z\" fill=\"#167203\" p-id=\"4035\"></path></svg><span>番茄土豆</span></span>\r\n          <Dropdown overlay={menu}>\r\n            <span>{this.state.user}<Icon type='down' style={{marginLeft:'8px'}}/></span>\r\n          </Dropdown>\r\n        </header>\r\n        <main>\r\n          <Tomatoes/>\r\n          <Todos/>\r\n        </main>\r\n        <Statistics/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state:any,ownProps:any) =>({\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  initTomato,\r\n  initTodo\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)","import * as React from 'react'\r\nimport {Input,Icon,Button,message} from 'antd'\r\nimport axios from '../../config/axios'\r\nimport {Link } from \"react-router-dom\";\r\nimport './Login.scss'\r\ninterface ILoginState{\r\n  account:string,\r\n  password:string,\r\n}\r\n\r\nexport default class Login extends React.Component<any,ILoginState>{\r\n  constructor(props:any){\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      password:'',\r\n    }\r\n  }\r\n\r\n  onChange = (key: keyof ILoginState,value:string) =>{\r\n    const newState:any = {}\r\n    newState[key] = value\r\n    this.setState(newState)\r\n  }\r\n\r\n  submit = async() =>{\r\n    const {account,password} = this.state\r\n    if(account===''){\r\n      message.destroy()\r\n      message.warning('账号不能为空')\r\n      return\r\n    }\r\n    if(password===''){\r\n      message.destroy()\r\n      message.warning('密码不能为空')\r\n      return\r\n    }\r\n    try{\r\n      await axios.post('sign_in/user',{\r\n        account,\r\n        password\r\n      })\r\n      this.props.history.push('/')\r\n    }catch(e){\r\n      message.destroy()\r\n      message.warning(e.response.data.errors)\r\n      //throw new Error(e)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {account,password} = this.state\r\n    return(\r\n      <div className='Login' id='Login'>\r\n        <h1>登录</h1>\r\n        <Input\r\n          placeholder='请输入你的用户名'\r\n          prefix={<Icon type='user' style={{color:'rgba(0,0,0,.25)'}}></Icon>}\r\n          value={account}\r\n          onChange={(e)=>this.onChange(\"account\",e.target.value)}\r\n        />\r\n        <Input.Password value={password} placeholder='请输入密码' onChange={(e)=>this.onChange(\"password\",e.target.value)}></Input.Password>\r\n        <Button type='primary' className='loginButton' onClick={this.submit}>登录</Button>\r\n        <p>如果你没有账号，请立即<Link to=\"/signUp\">注册</Link></p>\r\n      </div>\r\n    )\r\n  }\r\n}","import * as React from 'react'\r\nimport {Input,Icon,Button,message} from 'antd'\r\nimport axios from '../../config/axios'\r\nimport {Link } from \"react-router-dom\";\r\nimport './SignUp.scss'\r\ninterface ISignUpState{\r\n  account:string,\r\n  password:string,\r\n  passwordConfirmation:string\r\n}\r\nconst errortext:any = {\r\n  \"has already been taken\":'已有此登录名',\r\n  \"doesn't match Password\":'确认密码不正确'\r\n}\r\n\r\nexport default class SignUp extends React.Component<any,ISignUpState>{\r\n  constructor(props:any){\r\n    super(props)\r\n    this.state = {\r\n      account:'',\r\n      password:'',\r\n      passwordConfirmation:''\r\n    }\r\n  }\r\n\r\n  onChange = (key: keyof ISignUpState,value:string) =>{\r\n    const newState:any = {}\r\n    newState[key] = value\r\n    this.setState(newState)\r\n  }\r\n\r\n  submit = async() =>{\r\n    const {account,password,passwordConfirmation} = this.state\r\n    if(account===''){\r\n      message.destroy()\r\n      message.warning('账号不能为空')\r\n      return\r\n    }\r\n    if(password===''){\r\n      message.destroy()\r\n      message.warning('密码不能为空')\r\n      return\r\n    }\r\n    if(passwordConfirmation===''){\r\n      message.destroy()\r\n      message.warning('确认密码不能为空')\r\n      return\r\n    }\r\n    try{\r\n      await axios.post('sign_up/user',{\r\n        account,\r\n        password,\r\n        password_confirmation:passwordConfirmation\r\n      })\r\n      this.props.history.push('/')\r\n    }catch(e){\r\n      let text\r\n      Object.keys(e.response.data.errors).forEach((key)=>{\r\n        text = errortext[e.response.data.errors[key][0]]\r\n      })\r\n      message.destroy()\r\n      message.warning(text)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {account,password,passwordConfirmation} = this.state\r\n    return(\r\n      <div className='SignUp' id='SignUp'>\r\n        <h1>注册</h1>\r\n        <Input\r\n          placeholder='请输入你的用户名'\r\n          prefix={<Icon type='user' style={{color:'rgba(0,0,0,.25)'}}></Icon>}\r\n          value={account}\r\n          onChange={(e)=>this.onChange('account',e.target.value)}\r\n        />\r\n        <Input.Password value={password} placeholder='请输入密码' onChange={(e)=>this.onChange('password',e.target.value)}></Input.Password>\r\n        <Input.Password value={passwordConfirmation} placeholder='请确认密码' onChange={(e)=>this.onChange('passwordConfirmation',e.target.value)}></Input.Password>\r\n        <Button type='primary' className='signUpButton' onClick={this.submit}>注册</Button>\r\n        <p>如果你有账号，请立即<Link to=\"/login\">登录</Link></p>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\nimport './App.css';\nimport { Router,Route } from \"react-router-dom\";\nimport history from './config/history'\nimport Home from './components/Home/Home';\nimport Login from './components/Login/Login';\nimport SignUp from './components/SignUp/SignUp';\n\nexport default class App extends React.Component{\n  render(){\n    return(\n      <Router history={history}>\n        <Route exact={true} path=\"/\" component={Home}/>\n        <Route exact={true} path=\"/login\" component={Login}/>\n        <Route exact={true} path=\"/signUp\" component={SignUp}/>\n      </Router>\n    )\n  }\n  \n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from \"redux\";\r\nimport todos from \"./todos\";\r\nimport tomatoes from \"./tomatoes\";\r\n\r\nexport default combineReducers({todos,tomatoes})","import { ADD_TODO,INIT_TODO,UPDATE_TODO,EDIT_TODO } from \"../actionTypes\";\r\n\r\nexport default function(state=[],action:any){\r\n  switch(action.type){\r\n    case ADD_TODO:\r\n      return [action.payload,...state];\r\n    case INIT_TODO:\r\n      return [...action.payload];\r\n    case UPDATE_TODO:\r\n      return state.map((item:any)=>{\r\n        if(action.payload.id===item.id){\r\n          return action.payload\r\n        }else{\r\n          return item\r\n        }\r\n      });\r\n    case EDIT_TODO:\r\n      return state.map((item:any)=>{\r\n        if(item.id===action.payload){\r\n          return Object.assign({},item,{editing : true}) \r\n        }else{\r\n          return Object.assign({},item,{editing : false}) \r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}","import { ADD_TOMATO,INIT_TOMATO,UPDATE_TOMATO } from \"../actionTypes\";\r\n\r\nexport default function(state=[],action:any){\r\n  switch(action.type){\r\n    case ADD_TOMATO:\r\n      return [action.payload,...state];\r\n    case INIT_TOMATO:\r\n      return [...action.payload];\r\n    case UPDATE_TOMATO:\r\n      return state.map((item:any)=>{\r\n        if(action.payload.id===item.id){\r\n          return action.payload\r\n        }else{\r\n          return item\r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}","import { createStore } from \"redux\";\r\nimport reducers from \"./reducers/reducers\";\r\n\r\nconst store = createStore(reducers)\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}